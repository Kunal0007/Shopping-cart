(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{29:function(t,e,c){},30:function(t,e,c){"use strict";c.r(e);var s=c(1),n=c(17),i=c.n(n),a=c(7),r=c(6),j=c(2),l=c(9),d=Object(s.createContext)(null),o=c(0),b=function(t){var e=Object(s.useState)(!1),c=Object(a.a)(e,2),n=c[0],i=c[1],j=Object(s.useContext)(d),b=j.cart,m=j.setCart,u=t.product;return Object(o.jsx)("div",{children:Object(o.jsxs)("li",{className:"product__item",children:[Object(o.jsx)(r.b,{to:"/product/".concat(u._id),children:Object(o.jsx)("div",{className:"product__img grid",children:Object(o.jsx)("img",{src:u.image,width:"220px",height:"220px",alt:""})})}),Object(o.jsxs)("div",{style:{textAlign:"center"},children:[Object(o.jsx)("h3",{className:"product__title",children:u.name}),Object(o.jsx)("span",{className:"product__size",children:u.size})]}),Object(o.jsxs)("div",{className:"product__info",children:[Object(o.jsxs)("span",{children:["\u20b9 ",u.price]}),Object(o.jsxs)("button",{disabled:n,className:" add ".concat(n?"added":"none"," "),onClick:function(t){!function(t,e){var c=Object(l.a)({},b);c.items||(c.items={}),c.items[e._id]?c.items[e._id]+=1:c.items[e._id]=1,c.totalItem||(c.totalItem=0),c.totalItem+=1,m(c),i(!0),setInterval((function(){i(!1)}),800)}(0,u)},children:["ADD",n?"ED":""]})]})]})})},m=function(){var t=Object(s.useState)([]),e=Object(a.a)(t,2),c=e[0],n=e[1];return Object(s.useEffect)((function(){fetch("/api/products").then((function(t){return t.json()})).then((function(t){n(t)}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"product__title",children:Object(o.jsx)("h2",{children:"Products"})}),Object(o.jsx)("div",{className:"product__list",children:Object(o.jsx)("ul",{className:"product__items grid",children:c.map((function(t){return Object(o.jsx)(b,{product:t},t._id)}))})})]})},u=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"home container grid",children:Object(o.jsxs)("div",{className:"home__content grid",children:[Object(o.jsxs)("div",{className:"home__data",children:[Object(o.jsx)("h2",{className:"home__subtitle",children:Object(o.jsx)("em",{children:"Are you hungry?"})}),Object(o.jsx)("h1",{style:{marginBottom:"0.5rem"},children:"Don't Wait"}),Object(o.jsx)(r.b,{to:"/product",className:"home__button",children:"Order Now"})]}),Object(o.jsx)("div",{className:"home__img",children:Object(o.jsx)("img",{style:{width:"100%"},src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=714&q=80",alt:"fgdfg"})})]})}),Object(o.jsx)("div",{className:"products container grid",children:Object(o.jsx)(m,{})})]})},O=function(){return Object(o.jsx)("div",{className:"products container grid",children:Object(o.jsx)(m,{})})},h=function(){var t=Object(s.useState)({}),e=Object(a.a)(t,2),c=e[0],n=e[1],i=Object(s.useState)(!1),r=Object(a.a)(i,2),b=r[0],m=r[1],u=Object(s.useContext)(d),O=u.cart,h=u.setCart,x=Object(j.g)(),_=Object(j.f)();Object(s.useEffect)((function(){fetch("/api/products/".concat(x._id)).then((function(t){return t.json()})).then((function(t){n(t)}))}),[x._id]);return Object(o.jsxs)("div",{className:"container single__product",children:[Object(o.jsx)("button",{className:"back",onClick:function(){_.goBack()},children:"Back"}),Object(o.jsxs)("div",{style:{display:"flex",gap:"5rem"},children:[Object(o.jsx)("img",{src:c.image,width:"220px",height:"220px",alt:""}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"product__title",style:{fontSize:"3rem"},children:c.name}),Object(o.jsx)("span",{className:"product__size",children:c.size}),Object(o.jsxs)("div",{className:"product__price",children:["\u20b9 ",c.price]}),Object(o.jsx)("button",{onClick:function(t){!function(t,e){var c=Object(l.a)({},O);c.items||(c.items={}),c.items[e._id]?c.items[e._id]+=1:c.items[e._id]=1,c.totalItem||(c.totalItem=0),c.totalItem+=1,h(c),m(!0),setInterval((function(){m(!1)}),800)}(0,c)},disabled:b,className:" add ".concat(b?"added":"none"," "),style:{width:"-webkit-fill-available",padding:"0.5rem 0"},children:"Add to cart"})]})]})]})},x=function(){var t=Object(s.useContext)(d).cart;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("header",{className:"header",id:"header",children:Object(o.jsxs)("div",{className:"nav container",children:[Object(o.jsx)(r.b,{to:"/",className:"nav__logo",children:"SHOP"}),Object(o.jsx)("div",{className:"nav__menu",children:Object(o.jsxs)("ul",{className:"nav__list grid",children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(r.b,{to:"/",className:"nav__link",children:"Home"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(r.b,{to:"/product",className:"nav__link",children:"Product"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(r.b,{to:"/cart",children:Object(o.jsxs)("div",{className:"nav__link cart",children:[Object(o.jsx)("span",{children:t.totalItem?t.totalItem:0}),Object(o.jsx)("img",{src:"/images/cart.png",style:{width:"1.2rem",marginLeft:"0.3rem",verticalAlign:"bottom"},alt:"cart-icon"})]})})})]})})]})})})},_=function(){var t=0,e=Object(s.useState)([]),c=Object(a.a)(e,2),n=c[0],i=c[1],r=Object(s.useContext)(d),j=r.cart,b=r.setCart,m=Object(s.useState)(!1),u=Object(a.a)(m,2),O=u[0],h=u[1];Object(s.useEffect)((function(){j.items&&(O||fetch("/api/products/cart-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Object.keys(j.items)})}).then((function(t){return t.json()})).then((function(t){i(t),h(!0)})))}),[j,O]);var x=function(t){return j.items[t]},_=function(e,c){var s=c*x(e);return t+=s,s};return n.length?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"cart__container",children:[Object(o.jsx)("h2",{className:"cart__title",children:"Cart Items"}),Object(o.jsxs)("ul",{className:"grid",style:{margin:"2rem 5rem"},children:[n.map((function(t){return Object(o.jsx)("li",{children:Object(o.jsxs)("div",{className:"cart__item grid",children:[Object(o.jsxs)("div",{className:"item__info",children:[Object(o.jsx)("img",{width:"60px",src:t.image,alt:""}),Object(o.jsx)("h3",{children:t.name})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){!function(t){var e=j.items[t];if(1!==e){var c=Object(l.a)({},j);c.items[t]=e-1,c.totalItem-=1,b(c)}}(t._id)},className:"quantity__btn",children:"-"}),Object(o.jsx)("b",{className:"quantity",children:x(t._id)}),Object(o.jsx)("button",{onClick:function(){!function(t){var e=j.items[t],c=Object(l.a)({},j);c.items[t]=e+1,c.totalItem+=1,b(c)}(t._id)},className:"quantity__btn",children:"+"})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("b",{children:["\u20b9 ",_(t._id,t.price)]})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){!function(t){var e=Object(l.a)({},j),c=e.items[t];delete e.items[t],e.totalItem-=c,b(e),i(n.filter((function(e){return e._id!==t})))}(t._id)},className:"delete__btn",children:"DELETE"})})]})},t._id)})),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{style:{textAlign:"end"},children:Object(o.jsxs)("h3",{children:["Grand Total : \u20b9 ",t]})}),Object(o.jsx)("div",{style:{textAlign:"end"},children:Object(o.jsx)("button",{onClick:function(){window.alert("Order Placed Succesfully!"),b({}),i([])},className:"order__btn",children:"ORDER NOW"})})]})]})}):Object(o.jsx)("img",{style:{position:"absolute",left:"25%"},src:"/images/empty-cart.png",alt:"empty-cart"})},f=function(){var t=Object(s.useState)({}),e=Object(a.a)(t,2),c=e[0],n=e[1];return Object(s.useEffect)((function(){new Promise((function(t,e){t(window.localStorage.getItem("cart"))})).then((function(t){n(JSON.parse(t))}))}),[]),Object(s.useEffect)((function(){!function(t){window.localStorage.setItem("cart",JSON.stringify(t))}(c)}),[c]),Object(o.jsx)("div",{children:Object(o.jsx)(r.a,{children:Object(o.jsxs)(d.Provider,{value:{cart:c,setCart:n},children:[Object(o.jsx)(x,{}),Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{path:"/",component:u,exact:!0}),Object(o.jsx)(j.a,{path:"/product",component:O,exact:!0}),Object(o.jsx)(j.a,{path:"/product/:_id",component:h}),Object(o.jsx)(j.a,{path:"/cart",component:_})]})]})})})};c(29);i.a.render(Object(o.jsx)(f,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.3ddc43ab.chunk.js.map